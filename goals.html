<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ç›®æ¨™è¨­å®šã¨é€²æ—ç®¡ç†</title>
  <link rel="stylesheet" href="goals.css">
</head>
<body>
  <div class="container">
    <h1>ğŸ¯ ç›®æ¨™è¨­å®š</h1>
    <a href="index.html" class="button">â† ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«æˆ»ã‚‹</a>

    <section id="goalFormSection">
      <h2>ç›®æ¨™ã‚’è¿½åŠ </h2>
      <label for="goalType">ç›®æ¨™ã‚¿ã‚¤ãƒ—:</label>
      <select id="goalType" onchange="switchGoalTypeForm()">
        <option value="quantitative">å®šé‡ï¼ˆæ™‚é–“/å›æ•°ï¼‰</option>
        <option value="checklist">ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</option>
        <option value="free">è‡ªç”±è¨˜è¿°</option>
      </select>

      <div id="goalFormContainer"></div>
    </section>

    <section id="goalsList">
      <div id="goalContainer"></div>
    </section>
  </div>

  <script src="goals.js"></script>
  <script>
    // åˆæœŸè¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
    document.addEventListener("DOMContentLoaded", () => {
      switchGoalTypeForm();
    });

    function switchGoalTypeForm() {
      const container = document.getElementById("goalFormContainer");
      const type = document.getElementById("goalType").value;
      let html = '';

      if (type === "quantitative") {
        html = `
          <input type="text" id="goalTitle" placeholder="ç›®æ¨™ã‚¿ã‚¤ãƒˆãƒ«">
          <input type="text" id="goalCategory" placeholder="ã‚«ãƒ†ã‚´ãƒªï¼ˆä¾‹ï¼šå­¦ç¿’ï¼‰">
          <label for="goalType">ç· ã‚åˆ‡ã‚Š</label>
          <input type="date" id="goalDeadline">
          <button onclick="generateAiSuggestion()" class="button">ğŸ’¡ AIã‹ã‚‰ã®ææ¡ˆ</button>
          <div id="aiSuggestionResult" style="margin-top: 1em; font-size: 0.95rem;"></div>
          <label for="goalSelection">ç›®æ¨™ã¸ã®æŒ‡æ¨™</label>
          <select id="goalTargetType">
            <option value="æ™‚é–“">æ™‚é–“</option>
            <option value="å›æ•°">å›æ•°</option>
          </select>
          <input type="number" id="goalTargetValue" placeholder="ç›®æ¨™å€¤ï¼ˆåˆè¨ˆï¼‰">
          <button class="button" onclick="addQuantitativeGoal()">è¿½åŠ </button>
        `;
      } else if (type === "checklist") {
        html = `
          <input type="text" id="goalTitle" placeholder="ç›®æ¨™ã‚¿ã‚¤ãƒˆãƒ«">
          <input type="text" id="goalCategory" placeholder="ã‚«ãƒ†ã‚´ãƒªï¼ˆä¾‹ï¼šå°±è·ï¼‰">
          <label for="goalType">ç· ã‚åˆ‡ã‚Š</label>
          <input type="date" id="goalDeadline">
          <button onclick="generateAiSuggestion()" class="button">ğŸ’¡ AIã‹ã‚‰ã®ææ¡ˆ</button>
          <div id="aiSuggestionResult" style="margin-top: 1em; font-size: 0.95rem;"></div>
          <textarea id="goalChecklistItems" placeholder="ã‚¹ãƒ†ãƒƒãƒ—ã‚’æ”¹è¡Œã§å…¥åŠ›ï¼ˆä¾‹ï¼š\nå±¥æ­´æ›¸ã‚’æ›¸ã\nãƒ†ã‚¹ãƒˆã‚’å—ã‘ã‚‹\né¢æ¥ã‚’ç”³ã—è¾¼ã‚€ï¼‰"></textarea>
          <button class="button" onclick="addChecklistGoal()">è¿½åŠ </button>
        `;
      } else if (type === "free") {
        html = `
          <input type="text" id="goalTitle" placeholder="ç›®æ¨™ã‚¿ã‚¤ãƒˆãƒ«">
          <input type="text" id="goalCategory" placeholder="ã‚«ãƒ†ã‚´ãƒªï¼ˆä¾‹ï¼šäººç”Ÿç›®æ¨™ï¼‰">
          <label for="goalType">ç· ã‚åˆ‡ã‚Š</label>
          <input type="date" id="goalDeadline">
          <button onclick="generateAiSuggestion()" class="button">ğŸ’¡ AIã‹ã‚‰ã®ææ¡ˆ</button>
          <div id="aiSuggestionResult" style="margin-top: 1em; font-size: 0.95rem;"></div>
          <textarea id="goalDescription" placeholder="ç›®æ¨™ã®èƒŒæ™¯ã‚„è€ƒãˆãªã©è‡ªç”±ã«è¨˜è¿°"></textarea>
          <button class="button" onclick="addFreeGoal()">è¿½åŠ </button>
        `;
      }

      container.innerHTML = html;
    }
  </script>
</body>
</html>
